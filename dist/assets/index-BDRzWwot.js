(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();document.querySelector(".menu");const q=document.querySelector(".sidebar"),Z=document.querySelector(".close_sider");document.querySelector(".close_header");document.querySelector(".glass_header");document.querySelector(".search-mo");document.querySelector(".header-mo");const y=document.querySelector(".notes-section"),N=document.querySelector(".add"),z=document.querySelector(".fa-chevron-right"),r=document.querySelector(".details_note"),H=()=>document.querySelectorAll(".card"),f=document.querySelector(".container_notes"),E=document.querySelector(".add_inputs"),g=document.querySelector(".notes"),v=window.matchMedia("(max-width: 800px)"),S=document.querySelector(".add_more"),J=document.querySelector(".add_more_value");document.querySelector(".add_more_btn");document.querySelector(".search-container");document.querySelector(".input_search");document.querySelectorAll(".btn-search");const L=document.querySelector(".input_tittle"),h=document.querySelector(".input_author"),p=document.querySelector(".input_note"),ee=document.querySelector(".button_add"),te=document.querySelector(".button_add--pinned"),I=document.querySelector(".container_lodding"),$=document.querySelector(".normal_cards"),D=document.querySelector(".cards_pinned"),se=document.querySelector(".header"),C=document.querySelector(".overlay");document.querySelector(".input_search-mo");const i=document.querySelector(".message_Successfully "),_=L.parentElement.querySelector(".error-message"),b=h.parentElement.querySelector(".error-message"),x=p.parentElement.querySelector(".error-message");document.querySelector(".container_search");const M=()=>{N.classList.remove("border_left"),N.classList.remove("text-color-active"),g.classList.add("border_left"),g.classList.add("text-color-active"),g.classList.remove("text-color-disactive"),r.classList.remove("none"),f.classList.remove("none"),E.classList.add("none"),y.classList.remove("m-auto")},oe=()=>{Z.addEventListener("click",()=>{q.classList.remove("sidebar_active"),C.classList.add("none")}),N.addEventListener("click",()=>{N.classList.add("border_left"),N.classList.add("text-color-active"),g.classList.remove("border_left"),g.classList.add("text-color-disactive"),r.classList.add("none"),f.classList.add("none"),C.classList.add("none"),E.classList.remove("none"),y.classList.add("m-auto"),q.classList.remove("sidebar_active"),q.classList.remove("dis-blo")}),g.addEventListener("click",()=>{r.classList.remove("secDteTrans"),y.classList.remove("w-81"),f.classList.remove("dis-mo"),q.classList.remove("sidebar_active"),q.classList.remove("dis-blo"),r.classList.add("dis-mo"),C.classList.add("none"),H().forEach(e=>e.classList.remove("wCardMove")),M()}),z.addEventListener("click",()=>{r.classList.toggle("secDteTrans"),z.classList.toggle("rotate"),r.classList.toggle("none"),y.classList.toggle("w-81"),H().forEach(e=>e.classList.toggle("wCardMove"))})},ne=()=>{f.classList.contains("dis-mo")&&(g.classList.remove("border_left"),g.classList.add("text-color-disactive"))},K=()=>{v.matches?document.body.style.flexDirection="column":document.body.style.flexDirection="row"},ce=()=>{r.addEventListener("click",e=>{e.target.closest(".icon-add-note")&&(S.classList.remove("none"),setTimeout(()=>{S.classList.add("transition_scale"),document.querySelector(".overlay").classList.remove("none")},10))}),S.addEventListener("click",e=>{e.target.closest(".close_icon")&&(S.classList.remove("transition_scale"),document.querySelector(".overlay").classList.add("none"),setTimeout(()=>{S.classList.add("none")},10))})},R=()=>{const e=document.querySelector(".search-container"),t=document.querySelector(".header-mo");if(v.matches){if(e&&e.remove(),!t){q.insertAdjacentHTML("afterend",`
        <div class="header-mo relative">
          <button class="btn-open-sidebar">
            <i class="fi fi-sr-bars-sort menu"></i>
          </button>
          <h1 class="header font-normal text-[#bC7160]">Almdrasa-Notes</h1>
          <button type="submit" class="btn-toggle-search icon_search-header">
            <i class="fa-solid fa-magnifying-glass glass_header text-[#898989] "></i>
            <i class="fa-solid fa-xmark close_header text-3xl none"></i>
          </button>
          <div class="search-mo absolute ">
            <div class="relative">
              <button type="submit" class="btn-search icon_search absolute">
                <i class="fa-solid fa-magnifying-glass text-[#898989]"></i>
              </button>
              <input type="text" name="search-mobile" class="input_search input_search-mo search-input-mobile rounded-2xl text-[#bc7160] text-[13px] w-[210px] h-[34.01px] outline-none bg-[#FFFFFF] placeholder:text-[13px] placeholder:text-[#898989]" placeholder="Search your notes">
            </div>
          </div>
        </div>
        `);const o=document.querySelector(".input_search-mo");o&&o.addEventListener("input",()=>{E.classList.contains("none")||(E.classList.add("none"),M()),O()});const c=document.querySelector(".header-mo"),n=c.querySelector(".menu"),s=c.querySelector(".glass_header"),a=c.querySelector(".close_header"),d=c.querySelector(".search-mo");n.addEventListener("click",()=>{q.classList.add("sidebar_active"),C.classList.remove("none")}),s.addEventListener("click",()=>{s.classList.add("none"),a.classList.remove("none"),c.classList.add("header-mo_acvtive"),d.classList.add("opacity_active"),f.classList.add("pad")}),a.addEventListener("click",()=>{s.classList.remove("none"),a.classList.add("none"),c.classList.remove("header-mo_acvtive"),d.classList.remove("opacity_active"),f.classList.remove("pad")})}}else t&&t.remove(),e||se.insertAdjacentHTML("afterend",`
        <div class="search-container relative flex">
          <button class="btn-search icon_search absolute">
            <i class="fa-solid fa-magnifying-glass text-[#898989]"></i>
          </button>
          <input type="text" name="search" class="input_search search-input rounded-2xl text-[#bc7160] text-[13px] w-[210px] h-[34.01px] outline-none bg-[#FFFFFF] placeholder:text-[13px] placeholder:text-[#898989]" placeholder="Search your notes">
        </div>
        `),document.querySelector(".input_search").addEventListener("input",()=>{E.classList.contains("none")||(E.classList.add("none"),M()),O()})},V=()=>{y.addEventListener("click",e=>{if(e.target.closest(".card")&&v.matches){if(e.target.closest(".btn-delete-note")||e.target.closest(".delete"))return;const o=document.querySelector(".container_search");f.classList.add("dis-mo"),r.classList.remove("dis-mo"),r.classList.remove("none"),o.classList.add("none"),o&&o.remove(),ne()}})},O=()=>{const e=v.matches;let t="";if(e){const s=document.querySelector(".input_search-mo");s&&(t=s.value.trim().toLowerCase())}else{const s=document.querySelector(".input_search");s&&(t=s.value.trim().toLowerCase())}const o=document.querySelector(".container_search");if(o&&o.remove(),!t){f.classList.remove("none");return}let c="",n="";if(H().forEach(s=>{const a=s.closest(".cards_pinned")?"pinned notes":"notes",d=parseInt(s.dataset.index),u=T(a),l=u[d].tittle,m=u[d].note,w=u[d].date,F=new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),G=a==="pinned notes"?D:$;if(l.toLowerCase().includes(t)||m.toLowerCase().includes(t)){const B=new RegExp(`(${t})`,"gi"),X=l.replace(B,'<span style="background-color: antiquewhite;">$1</span>'),Y=m.replace(B,'<span style="background-color: antiquewhite;">$1</span>'),U=`
        <div class="card w-[266px] h-[106px]" data-index="${d}" data-key="${a}">
          <h4 class="header_note text-[16px] text-[#303030]">${X}</h4>
          <p class="note text-[#898989] text-[13px] line-clamp-3 overflow-hidden">${Y}</p>
          <div class="note-footer flex justify-between items-baseline">
            <p class="date text-[#898989]">${F}</p>
            <button class="delete text-[#D82700] text-[13px] leading-[20px] btn-delete-note">Delete</button>
          </div>
        </div>
      `;G===D?c+=U:n+=U}}),c||n){f.classList.add("none"),y.insertAdjacentHTML("beforeend",'<div class="container_search"></div>');const s=document.querySelector(".container_search");c&&s.insertAdjacentHTML("beforeend",`<div class="cards cards_pinned relative">${c}</div>`),n&&s.insertAdjacentHTML("beforeend",`<div class="cards normal_cards">${n}</div>`)}else f.classList.add("none"),y.insertAdjacentHTML("beforeend",`<div class="container_search flex items-center"><img src ="/assets/no-results.png" class="empty_search self-center"/><p class="text-gray-500 self-center">Can't find any result</p></div>`),A(r);V()},T=e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):[]},j=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},Q=()=>{y.addEventListener("click",e=>{if(e.target.closest(".btn-delete-note")||e.target.closest(".delete"))return;const t=e.target.closest(".card");if(!t)return;const o=parseInt(t.dataset.index),c=t.closest(".cards_pinned")?"pinned notes":"notes",s=T(c)[o];if(!s)return A(r);const a=s.tittle,d=s.date,u=s.note,l=s.author,w=new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});r.innerHTML=`
      <div class="card-de sticky top-46" data-key="${c}" data-index="${o}">
        <h4 class="header_note-de text-[26px] text-[#303030]">${a}</h4>
        <p class="date text-[#898989]">${w} / By ${l}</p>
        <p class="note-de text-[#898989] text-[13px]">${u}</p>
        <i class="fa-solid fa-plus icon-add-note shadow-2xl"></i>
      </div>
    `,O()})},ae=(e,t,o)=>{const c=T(e);c.splice(t,1),j(e,c),k(e,o)},re=()=>{y.addEventListener("click",e=>{const t=e.target.closest(".btn-delete-note");if(!t)return;const o=t.closest(".card"),c=o.closest(".normal_cards")?"notes":"pinned notes",n=parseInt(o.dataset.index),s=c==="notes"?$:D;confirm("Do you want to delete this note?")&&(i.querySelector(".message").innerText="Note deleted successfully",setTimeout(()=>{i.classList.remove("none"),setTimeout(()=>{i.classList.add("active_message"),setTimeout(()=>{i.classList.add("none"),i.classList.remove("active_message")},6e3)},10)},100),ae(c,n,s),O())})},ie=()=>{S.addEventListener("click",e=>{e.preventDefault();const t=e.target.closest(".add_more_btn");if(t&&t){const o=r.querySelector(".card-de"),c=r.querySelector(".note-de"),n=o.dataset.index,s=o.dataset.key,a=J.value,d=s==="notes"?$:D;if(a.trim()){const u=T(s);u[n].note+=" "+a,c.textContent+=a,Q(),j(s,u),k(s,d),J.value=" ",S.classList.remove("transition_scale"),document.querySelector(".overlay").classList.add("none"),setTimeout(()=>{S.classList.add("none")},10),v.matches&&(u.classList.remove("none"),r.classList.add("dis-mo"),r.classList.add("none"),u.classList.remove("dis-mo")),i.querySelector(".message").innerText="Note updated successfully",setTimeout(()=>{i.classList.remove("none"),setTimeout(()=>{i.classList.add("active_message"),setTimeout(()=>{i.classList.add("none"),i.classList.remove("active_message")},6e3)},10)},500)}else alert("please enter containe your note ")}})},A=e=>{let t="There are no notes here.";e===r&&(t="Welcome to Almdrasa Notes — select a note to view its");const o=`
    <div class="empty_state ${e===r&&"sticky top-46"}
    ">
      <img src="/assets/folder.png" alt="empty icon" class="empty_img_cards">
      <p class="note text-[#898989] text-[11px]">${t}</p>
    </div>
  `;e.innerHTML=o},k=(e,t)=>{const o=T(e);o.length?de(o,t):A(t),r.length||A(r)},de=(e,t)=>{const o=n=>n.replace(/</g,"&lt;").replace(/>/g,"&gt;");let c="";e.forEach((n,s)=>{const a=o(n.tittle),d=o(n.note),l=new Date(n.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});c+=`
    <div class="card w-[266px] h-[106px]" data-index="${s}">
    <h4 class="header_note text-[16px] text-[#303030]">${a}</h4>
      <p class="note text-[#898989] text-[13px] line-clamp-3 overflow-hidden">${d}</p>
      <div class="note-footer flex justify-between items-baseline">
        <p class="date text-[#898989]">${l}</p>
        <button class="text-[#D82700] text-[13px] leading-[20px] btn-delete-note">
          Delete
          </button>
          </div>
          </div>
          `}),t.innerHTML=" ",t.insertAdjacentHTML("beforeend",c)},W=(e,t)=>{const o=L.value.trim(),c=h.value.trim(),n=p.value.trim();let s=!1;if(o?(L.classList.remove("border_filed"),_&&_.classList.add("none")):(L.classList.add("border_filed"),_&&_.classList.remove("none"),s=!0),c?(h.classList.remove("border_filed"),b&&b.classList.add("none")):(h.classList.add("border_filed"),b&&b.classList.remove("none"),s=!0),n?(p.classList.remove("border_filed"),x&&x.classList.add("none")):(p.classList.add("border_filed"),x&&x.classList.remove("none"),s=!0),s)return!1;const a={tittle:o,author:c,note:n,date:new Date().toISOString()},d=T(e)||[];return d.push(a),j(e,d),k(e,t),L.value="",h.value="",p.value="",!0},le=()=>{te.addEventListener("click",e=>{e.preventDefault(),W("pinned notes",D)&&(M(),I.classList.remove("none"),setTimeout(()=>{I.classList.add("none"),i.classList.remove("none"),setTimeout(()=>{i.classList.add("active_message"),setTimeout(()=>{i.classList.add("none"),i.classList.remove("active_message")},6e3)},10)},500))})},ue=()=>{ee.addEventListener("click",e=>{e.preventDefault(),W("notes",$)&&(i.querySelector(".message").innerText="Note added successfully",M(),I.classList.remove("none"),setTimeout(()=>{I.classList.add("none"),i.classList.remove("none"),setTimeout(()=>{i.classList.add("active_message"),setTimeout(()=>{i.classList.add("none"),i.classList.remove("active_message")},6e3)},10)},500))})};document.addEventListener("DOMContentLoaded",()=>{k("pinned notes",D),k("notes",$),le(),ue(),Q(),re(),oe(),K(),R(),v.addEventListener("change",K),v.addEventListener("change",R),g.addEventListener("click",()=>{v.matches&&r.classList.add("dis-mo")}),V();const e=document.querySelector(".input_search-mo"),t=document.querySelector(".input_search"),o=()=>{v.matches?t&&(t.value=""):e&&(e.value="")};v.addEventListener("change",o),ce(),ie()});document.addEventListener("click",e=>{const t=document.querySelector(".header-mo"),o=document.querySelector(".glass_header"),c=document.querySelector(".close_header"),n=document.querySelector(".search-mo"),s=document.querySelector(".container_notes"),a=document.querySelector(".input_search-mo");e.target.closest(".input_search-mo")||e.target.closest(".glass_header")||e.target.closest(".close_header")||e.target.closest(".search-mo")||(o&&o.classList.remove("none"),c&&c.classList.add("none"),t&&t.classList.remove("header-mo_acvtive"),n&&n.classList.remove("opacity_active"),s&&s.classList.remove("pad"),a&&(a.value="")),document.querySelector("form").addEventListener("submit",l=>{l.preventDefault();let m=!1;const w=L.value.trim(),P=h.value.trim(),F=p.value.trim();w?(L.classList.remove("border_filed"),_&&_.classList.add("none")):(L.classList.add("border_filed"),_&&_.classList.remove("none"),m=!0),F?(p.classList.remove("border_filed"),x&&x.classList.add("none")):(p.classList.add("border_filed"),x&&x.classList.remove("none"),m=!0),P?(h.classList.remove("border_filed"),b&&b.classList.add("none")):(h.classList.add("border_filed"),b&&b.classList.remove("none"),m=!0),!m&&new Date().toISOString()}),[L,p,h].forEach(l=>{l.addEventListener("input",()=>{if(l.value.trim()){const m=l.parentElement.querySelector(".error-message");m&&m.remove(),l.classList.remove("border_filed")}})})});
